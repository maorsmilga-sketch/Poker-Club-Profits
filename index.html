<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Poker Pro Calc</title>
    <style>
        :root {
            --bg-color: #1b1b1b;
            --card-bg: #ffffff;
            --accent-green: #2ecc71;
            --accent-red: #e74c3c;
            --accent-gold: #f1c40f;
            --text-color: #ecf0f1;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        h1 { margin-bottom: 20px; font-weight: 300; letter-spacing: 2px; color: var(--accent-gold); }

        /* ××–×•×¨ ×”×§×œ×¤×™× */
        .table-section {
            background: #2c3e50;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 600px;
            margin-bottom: 20px;
        }

        .label { font-size: 0.9rem; color: #bdc3c7; margin-bottom: 8px; display: block; }

        .cards-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
        }

        /* ×¢×™×¦×•×‘ ×§×œ×£ ×‘×•×“×“ */
        .card-slot {
            width: 60px;
            height: 90px;
            background: rgba(255,255,255,0.1);
            border: 2px dashed #7f8c8d;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            transition: all 0.2s;
            position: relative;
        }

        .card-slot:hover { border-color: var(--accent-gold); background: rgba(255,255,255,0.2); }
        
        .card-slot.filled {
            background: var(--card-bg);
            border: 2px solid #fff;
            color: #333;
            text-shadow: none;
        }
        
        .card-slot.red { color: #c0392b; }
        .card-slot.black { color: #2c3e50; }

        /* ××–×•×¨ × ×ª×•× ×™× (×§×•×¤×” ×•×”×™××•×¨) */
        .inputs-row {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .input-group { flex: 1; }
        
        input[type="number"] {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: none;
            background: #34495e;
            color: white;
            font-size: 1.1rem;
            text-align: center;
        }

        /* ×›×¤×ª×•×¨ ×—×™×©×•×‘ */
        .action-btn {
            width: 100%;
            padding: 15px;
            background: var(--accent-gold);
            color: #1b1b1b;
            border: none;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            margin-bottom: 20px;
        }

        /* ×ª×•×¦××•×ª */
        .results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            width: 100%;
            max-width: 600px;
        }

        .result-box {
            background: #34495e;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .result-value { font-size: 1.8rem; font-weight: bold; margin-top: 5px; }
        .recommendation {
            grid-column: span 2;
            padding: 20px;
            font-size: 1.5rem;
            background: #2c3e50;
            border: 2px solid var(--accent-gold);
        }

        /* Modal Selector (×”×—×œ×§ ×”××ª×•×—×›×) */
        #card-selector {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9);
            display: none; /* ××•×¡×ª×¨ ×‘×”×ª×—×œ×” */
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .selector-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
        }

        .select-btn {
            padding: 20px;
            font-size: 1.5rem;
            background: #ecf0f1;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            color: #333;
        }
        
        .suits-grid { display: none; grid-template-columns: repeat(2, 1fr); gap: 20px; }
        .suit-btn { font-size: 3rem; background: white; padding: 20px; border-radius: 10px; cursor: pointer;}

    </style>
</head>
<body>

    <h1>TEXAS AI</h1>

    <div class="table-section">
        <span class="label">×”×™×“ ×©×œ×™ (My Hand)</span>
        <div class="cards-container" id="my-hand">
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
        </div>

        <span class="label">×§×œ×¤×™ ×§×”×™×œ×” (Board)</span>
        <div class="cards-container" id="board">
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
        </div>
    </div>

    <div class="table-section">
        <div class="inputs-row">
            <div class="input-group">
                <span class="label">×¡×”"×› ×‘×§×•×¤×” ×›×¨×’×¢ ($)</span>
                <input type="number" id="pot-size" placeholder="100" oninput="calculate()">
            </div>
            <div class="input-group">
                <span class="label">×›××” ×¢×•×œ×” ×œ×”×©×•×•×ª? ($)</span>
                <input type="number" id="to-call" placeholder="20" oninput="calculate()">
            </div>
        </div>
    </div>

    <div class="results">
        <div class="result-box">
            <span class="label">Equity (×¡×™×›×•×™ × ×™×¦×—×•×Ÿ)</span>
            <div class="result-value" id="equity-val" style="color: var(--accent-gold)">--%</div>
        </div>
        <div class="result-box">
            <span class="label">Pot Odds (×™×—×¡ ×§×•×¤×”)</span>
            <div class="result-value" id="pot-odds-val">--%</div>
        </div>
        <div class="result-box recommendation" id="recommendation-box">
            ××ª×™×Ÿ ×œ× ×ª×•× ×™×...
        </div>
    </div>

    <div id="card-selector">
        <h2 id="selector-title">×‘×—×¨ ×¢×¨×š</h2>
        
        <div class="selector-grid" id="ranks-grid">
            </div>

        <div class="suits-grid" id="suits-grid">
            <button class="suit-btn" style="color:red" onclick="selectSuit('h')">â™¥</button>
            <button class="suit-btn" style="color:red" onclick="selectSuit('d')">â™¦</button>
            <button class="suit-btn" style="color:black" onclick="selectSuit('c')">â™£</button>
            <button class="suit-btn" style="color:black" onclick="selectSuit('s')">â™ </button>
        </div>
        
        <button onclick="closeSelector()" style="margin-top: 20px; padding: 10px; background:transparent; color:white; border:1px solid white;">×‘×™×˜×•×œ</button>
    </div>

    <script>
        // --- ×œ×•×’×™×§×” ×•× ×ª×•× ×™× ---
        let currentSlot = null;
        let selectedRank = null;
        const ranks = ['A','K','Q','J','T','9','8','7','6','5','4','3','2'];
        
        // ×™×¦×™×¨×ª ×›×¤×ª×•×¨×™ ×”××¡×¤×¨×™× ×“×™× ××™×ª
        const ranksGrid = document.getElementById('ranks-grid');
        ranks.forEach(r => {
            let btn = document.createElement('button');
            btn.className = 'select-btn';
            btn.innerText = r;
            btn.onclick = () => selectRank(r);
            ranksGrid.appendChild(btn);
        });

        // ×¤×ª×™×—×ª ×”×¤×•×¤-××¤
        function openSelector(slotElement) {
            currentSlot = slotElement;
            document.getElementById('card-selector').style.display = 'flex';
            resetSelectorView();
        }

        function resetSelectorView() {
            document.getElementById('ranks-grid').style.display = 'grid';
            document.getElementById('suits-grid').style.display = 'none';
            document.getElementById('selector-title').innerText = "×‘×—×¨ ×¢×¨×š";
        }

        // ×‘×—×™×¨×ª ××¡×¤×¨
        function selectRank(rank) {
            selectedRank = rank;
            document.getElementById('ranks-grid').style.display = 'none';
            document.getElementById('suits-grid').style.display = 'grid';
            document.getElementById('selector-title').innerText = "×‘×—×¨ ×¦×•×¨×” ×¢×‘×•×¨ " + rank;
        }

        // ×‘×—×™×¨×ª ×¦×•×¨×” ×•×¡×™×•×
        function selectSuit(suit) {
            const suitSymbols = {'h':'â™¥', 'd':'â™¦', 'c':'â™£', 's':'â™ '};
            const colorClass = (suit === 'h' || suit === 'd') ? 'red' : 'black';
            
            // ×¢×“×›×•×Ÿ ×”-UI ×©×œ ×”×§×œ×£
            currentSlot.innerHTML = `${selectedRank}${suitSymbols[suit]}`;
            currentSlot.className = `card-slot filled ${colorClass}`;
            currentSlot.dataset.value = selectedRank + suit; // ×©××™×¨×ª ×”×¢×¨×š ×œ×—×™×©×•×‘×™× (×œ××©×œ Ah)

            closeSelector();
            calculate(); // ×”×¤×¢×œ×ª ×—×™×©×•×‘ ××•×˜×•××˜×™
        }

        function closeSelector() {
            document.getElementById('card-selector').style.display = 'none';
            currentSlot = null;
            selectedRank = null;
        }

        // --- ×”××•×—: ×—×™×©×•×‘×™× ---
        function calculate() {
            // 1. ×—×™×©×•×‘ Pot Odds
            const pot = parseFloat(document.getElementById('pot-size').value) || 0;
            const toCall = parseFloat(document.getElementById('to-call').value) || 0;
            let potOdds = 0;

            if (toCall > 0 && pot > 0) {
                // ×”× ×•×¡×—×”: Call / (Pot + Call)
                potOdds = (toCall / (pot + toCall)) * 100;
            }

            // 2. ×—×™×©×•×‘ Equity (×›×¨×’×¢ ×“××” - ×‘××¦×™××•×ª ××—×‘×¨×™× ×¡×¤×¨×™×™×”)
            // ×›×“×™ ×©×–×” ×™×¢×‘×•×“ ×××™×ª×™ ×¦×¨×™×š ×œ×—×‘×¨ ××ª 'pokersolver'
            // ×›××Ÿ ×× ×™ ×¢×•×©×” ×¡×™××•×œ×¦×™×” ×¤×©×•×˜×” ×›×“×™ ×©×ª×¨××” ××ª ×”-UI ×¢×•×‘×“
            let equity = simulateEquityLogic(); 

            // ×¢×“×›×•×Ÿ ×”××¡×š
            updateDisplay(equity, potOdds);
        }

        // ×¤×•× ×§×¦×™×™×ª ×“××” ×œ×—×™×©×•×‘ ×¡×™×›×•×™×™× (×¨×§ ×œ×”××—×©×ª ×”×××©×§)
        function simulateEquityLogic() {
            // ×‘×•×“×§ ×›××” ×§×œ×¤×™× ×”×•×–× ×•
            const slots = document.querySelectorAll('.card-slot.filled');
            if (slots.length < 2) return 0;
            
            // ×× ×™×© ×–×•×’ ×‘×™×“ - ×¡×™×›×•×™ ×’×‘×•×”
            // ×–×” ×¨×§ Mockup! ×‘××¦×™××•×ª × ×©×ª××© ×‘×¡×¤×¨×™×™×ª ××ª××˜×™×§×”
            return Math.floor(Math.random() * (80 - 20) + 20); 
        }

        function updateDisplay(equity, potOdds) {
            document.getElementById('equity-val').innerText = equity > 0 ? equity + "%" : "--%";
            document.getElementById('pot-odds-val').innerText = potOdds > 0 ? potOdds.toFixed(1) + "%" : "--%";

            const recBox = document.getElementById('recommendation-box');
            
            if (equity === 0 || potOdds === 0) {
                recBox.innerText = "×”×–×Ÿ ×™×“ ×•× ×ª×•× ×™ ×§×•×¤×”...";
                recBox.style.color = "#ecf0f1";
                return;
            }

            // ×”×—×•×§×™× ×”×¤×©×•×˜×™× ×©×”×’×“×¨× ×•
            // ×× ×”×¡×™×›×•×™ ×©×œ×™ ×œ× ×¦×— (Equity) ×’×“×•×œ ××”××—×™×¨ ×©×× ×™ ×¦×¨×™×š ×œ×©×œ× (Pot Odds) - ×©×•×•×” ×œ×©×œ×
            if (equity > potOdds + 5) { // ×”×•×¡×¤×ª×™ 5% ××¨×•×•×— ×‘×™×˜×—×•×Ÿ
                recBox.innerText = "ğŸ”¥ CALL / RAISE (××©×ª×œ×)";
                recBox.style.color = "#2ecc71"; // ×™×¨×•×§
            } else if (equity >= potOdds) {
                recBox.innerText = "âœ‹ ×’×‘×•×œ×™ (CALL ×‘×–×”×™×¨×•×ª)";
                recBox.style.color = "#f1c40f"; // ×¦×”×•×‘
            } else {
                recBox.innerText = "ğŸ—‘ï¸ FOLD (×œ× ××©×ª×œ×)";
                recBox.style.color = "#e74c3c"; // ××“×•×
            }
        }
    </script>
</body>
</html>
