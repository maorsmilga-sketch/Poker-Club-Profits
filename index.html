<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>×”×¡× ×™×£ ×”×“×™×’×™×˜×œ×™ - ×”×™×•×¢×¥</title>
    <style>
        :root {
            --bg-color: #1b1b1b;
            --table-color: #27ae60;
            --card-bg: #ffffff;
            --accent-green: #2ecc71;
            --accent-red: #e74c3c;
            --accent-gold: #f1c40f;
            --text-color: #ecf0f1;
            --input-bg: #34495e;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            box-sizing: border-box;
            padding-bottom: 80px; /* ××§×•× ×œ×’×œ×™×œ×” */
        }

        /* --- Header & Logo --- */
        header { text-align: center; margin-bottom: 15px; }
        .logo-img { max-height: 60px; margin-bottom: 5px; }
        h1 { margin: 0; font-weight: 300; letter-spacing: 1px; color: var(--accent-gold); font-size: 1.5rem; }
        .sub-title { font-size: 0.9rem; color: #95a5a6; }

        /* --- Table Visualization --- */
        .poker-table-container {
            position: relative;
            width: 280px;
            height: 200px; /* ××œ×™×¤×¡×” */
            background: #225f3e;
            border: 8px solid #3e2723; /* ××¡×’×¨×ª ×¢×¥ */
            border-radius: 140px;
            margin: 20px auto;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.6);
        }

        .seat {
            position: absolute;
            width: 35px;
            height: 35px;
            background: #7f8c8d;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            color: white;
            box-shadow: 0 3px 6px rgba(0,0,0,0.5);
            transform: translate(-50%, -50%); /* ××¨×›×•×– */
            transition: all 0.3s ease;
        }

        .seat.hero { background: var(--accent-gold); color: black; border: 2px solid white; z-index: 10; }
        .seat.active { background: #34495e; }
        
        /* ×›×¤×ª×•×¨ ×”×“×™×œ×¨ */
        .dealer-btn {
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            color: black;
            border-radius: 50%;
            font-size: 0.7rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #bdc3c7;
            z-index: 5;
            transition: all 0.5s ease; /* ×× ×™××¦×™×™×ª ×ª×–×•×–×” */
        }

        .position-label {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            color: rgba(255,255,255,0.3);
            font-size: 2rem;
            font-weight: bold;
            pointer-events: none;
        }

        /* --- Table Controls --- */
        .table-controls {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 500px;
            margin-bottom: 10px;
            background: #2c3e50;
            padding: 10px;
            border-radius: 10px;
        }

        .ctrl-btn {
            background: #34495e;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .next-hand-btn { background: var(--accent-gold); color: black; font-weight: bold; }

        /* --- Cards & Inputs --- */
        .section-box {
            background: #2c3e50;
            padding: 15px;
            border-radius: 12px;
            width: 100%;
            max-width: 500px;
            margin-bottom: 15px;
            box-sizing: border-box;
        }

        .label { font-size: 0.9rem; color: #bdc3c7; margin-bottom: 5px; display: block; }

        .cards-row { display: flex; gap: 8px; justify-content: center; margin-bottom: 5px; }
        
        .card-slot {
            width: 18%; aspect-ratio: 2/3; max-width: 55px;
            background: rgba(255,255,255,0.1);
            border: 2px dashed #7f8c8d; border-radius: 6px;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem; font-weight: bold;
        }
        .card-slot.filled { background: var(--card-bg); border: 2px solid #fff; color: #333; }
        .card-slot.red { color: #c0392b; }
        .card-slot.black { color: #2c3e50; }

        /* Inputs */
        .inputs-row { display: flex; gap: 10px; }
        .input-group { flex: 1; }
        input[type="number"] {
            width: 100%; padding: 10px; border-radius: 6px;
            border: none; background: var(--input-bg); color: white;
            font-size: 1.1rem; text-align: center; box-sizing: border-box;
        }
        .money-display { font-size: 0.8rem; margin-top: 4px; font-weight: bold; opacity: 0.9; }

        /* --- Recommendation Banner --- */
        .advisor-panel {
            width: 100%; max-width: 500px;
            text-align: center;
            background: #22303f;
            border: 2px solid #34495e;
            border-radius: 10px;
            overflow: hidden;
        }
        .advisor-header { background: #34495e; padding: 8px; font-size: 0.9rem; color: #bdc3c7; }
        .advisor-content { padding: 15px; font-size: 1.4rem; font-weight: bold; min-height: 40px; display: flex; align-items: center; justify-content: center;}
        
        /* Stats Grid */
        .stats-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 1px; background: #34495e; margin-top: 10px;
        }
        .stat-item { background: #22303f; padding: 10px; }
        .stat-val { font-size: 1.2rem; font-weight: bold; color: var(--accent-gold); direction: ltr; }

        /* --- Selector Modal --- */
        #card-selector {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); display: none;
            flex-direction: column; align-items: center; justify-content: center; z-index: 1000;
        }
        .selector-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; width: 90%; max-width: 400px; }
        .select-btn { padding: 15px; font-size: 1.4rem; background: #ecf0f1; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        .suits-grid { display: none; grid-template-columns: repeat(2, 1fr); gap: 15px; width: 60%; }
        .suit-btn { font-size: 3.5rem; background: white; padding: 10px; border-radius: 10px; border: none; cursor: pointer; }
        .suit-btn:disabled { opacity: 0.2; cursor: not-allowed; }

    </style>
</head>
<body>

    <header>
        <img src="logo1.png" alt="Logo" class="logo-img" onerror="this.style.display='none'">
        <h1>×”×¡× ×™×£ ×”×“×™×’×™×˜×œ×™ - ×”×™×•×¢×¥</h1>
        <div class="sub-title">××¢×¨×›×ª × ×™×”×•×œ ××©×—×§ ×•×¡×˜×˜×™×¡×˜×™×§×”</div>
    </header>

    <div class="table-controls">
        <div>
            <button class="ctrl-btn" onclick="changePlayerCount(-1)">- ×©×—×§×Ÿ</button>
            <span id="player-count-display" style="margin: 0 10px;">6 ×©×—×§× ×™×</span>
            <button class="ctrl-btn" onclick="changePlayerCount(1)">+ ×©×—×§×Ÿ</button>
        </div>
        <button class="ctrl-btn next-hand-btn" onclick="nextHand()">×™×“ ×”×‘××” >></button>
    </div>

    <div class="poker-table-container" id="poker-table">
        <div class="position-label">TEXAS</div>
        <div id="dealer-btn" class="dealer-btn">D</div>
    </div>

    <div class="advisor-panel">
        <div class="advisor-header" id="advisor-status">×××ª×™×Ÿ ×œ×§×œ×¤×™×...</div>
        <div class="advisor-content" id="recommendation-text">--</div>
        
        <div class="stats-grid">
            <div class="stat-item">
                <div class="label">Equity</div>
                <div class="stat-val" id="equity-val">--%</div>
            </div>
            <div class="stat-item">
                <div class="label">Pot Odds</div>
                <div class="stat-val" id="pot-odds-val">--%</div>
            </div>
        </div>
    </div>

    <br>

    <div class="section-box">
        <span class="label">×”×™×“ ×©×œ×™ (My Hand)</span>
        <div class="cards-row" id="my-hand">
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
        </div>

        <span class="label" style="margin-top:10px;">×§×”×™×œ×” (Board)</span>
        <div class="cards-row" id="board">
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
            <div class="card-slot" onclick="openSelector(this)">+</div>
        </div>
    </div>

    <div class="section-box">
        <div class="inputs-row">
            <div class="input-group">
                <span class="label">×§×•×¤×” (×¦'×™×¤×™×)</span>
                <input type="number" id="pot-size" placeholder="0" oninput="calculate()">
                <div id="pot-money" class="money-display" style="color: var(--accent-green)">â‚ª0</div>
            </div>
            <div class="input-group">
                <span class="label">×œ×”×©×•×•×ª (×¦'×™×¤×™×)</span>
                <input type="number" id="to-call" placeholder="0" oninput="calculate()">
                <div id="call-money" class="money-display" style="color: var(--accent-red)">â‚ª0</div>
            </div>
        </div>
    </div>

    <div id="card-selector">
        <h2 id="selector-title" style="color:white; margin-bottom:20px;">×‘×—×¨ ×¢×¨×š</h2>
        <div class="selector-grid" id="ranks-grid"></div>
        <div class="suits-grid" id="suits-grid"></div>
        <button class="ctrl-btn" style="margin-top:30px; background:transparent; border:1px solid white;" onclick="closeSelector()">×‘×™×˜×•×œ</button>
    </div>

    <script>
        // === ×”×’×“×¨×•×ª ××©×—×§ ===
        let totalPlayers = 6;
        let dealerPosition = 1; // ××™×§×•× ×”×“×™×œ×¨ (×™×—×¡×™)
        const heroSeatIndex = 0; // ×× ×—× ×• ×ª××™×“ ×‘××•×©×‘ 0 ×œ××˜×”

        // === ×§×œ×¤×™× ×•× ×ª×•× ×™× ===
        let currentSlot = null;
        let selectedRank = null;
        const ranks = ['A','K','Q','J','T','9','8','7','6','5','4','3','2'];
        const suitSymbols = {'h':'â™¥', 'd':'â™¦', 'c':'â™£', 's':'â™ '};
        
        // ××ª×—×•×œ
        window.onload = function() {
            initRankGrid();
            renderTable();
            calculate(); // ××™×¤×•×¡ ×ª×¦×•×’×”
        };

        // --- × ×™×”×•×œ ×©×•×œ×—×Ÿ ×•××™×§×•××™× ---
        function renderTable() {
            const table = document.getElementById('poker-table');
            // × ×§×” ××•×©×‘×™× ×§×™×™××™× ×—×•×¥ ××”×“×™×œ×¨ ×•×”×œ×™×™×‘×œ
            const existingSeats = document.querySelectorAll('.seat');
            existingSeats.forEach(s => s.remove());

            const radiusX = 140; // ×¨×•×—×‘ ×¨×“×™×•×¡
            const radiusY = 100; // ×’×•×‘×” ×¨×“×™×•×¡
            
            for (let i = 0; i < totalPlayers; i++) {
                const seat = document.createElement('div');
                
                // ×–×™×”×•×™ ×× ×™
                if (i === heroSeatIndex) {
                    seat.className = 'seat hero';
                    seat.innerText = 'ME';
                } else {
                    seat.className = 'seat active';
                    seat.innerText = i + 1;
                }

                // ×—×™×©×•×‘ ××™×§×•× ×‘××¢×’×œ (××ª×—×™×œ×™× ×-90 ××¢×œ×•×ª ×œ××˜×” ×©×–×” ×× ×™)
                // ×”×¡×˜×” ×›×“×™ ×©×× ×™ ××”×™×” ×œ××˜×”: (i - heroSeatIndex)
                // ××‘×œ ×× ×—× ×• ×¨×•×¦×™× ×œ×¤×–×¨ ××•×ª× ×©×•×•×” ×‘×©×•×•×”.
                // × ××§× ××ª ××•×©×‘ 0 ×‘-90 ××¢×œ×•×ª (×œ××˜×”)
                const angleDeg = 90 + (360 / totalPlayers) * i;
                const angleRad = angleDeg * (Math.PI / 180);

                const x = 50 + 50 * Math.cos(angleRad); // ××—×•×–×™×
                const y = 50 + 50 * Math.sin(angleRad); // ××—×•×–×™×

                seat.style.left = x + '%';
                seat.style.top = y + '%';
                
                table.appendChild(seat);
            }

            // ×¢×“×›×•×Ÿ ××™×§×•× ×›×¤×ª×•×¨ ×”×“×™×œ×¨
            updateDealerBtn();
        }

        function updateDealerBtn() {
            const dealerBtn = document.getElementById('dealer-btn');
            // ×—×™×©×•×‘ ×”××™×§×•× ×©×œ ×”×“×™×œ×¨
            const angleDeg = 90 + (360 / totalPlayers) * dealerPosition;
            const angleRad = angleDeg * (Math.PI / 180);
            
            // ×§×¦×ª ×™×•×ª×¨ ×¤× ×™××” ××”×©×—×§× ×™×
            const x = 50 + 38 * Math.cos(angleRad); 
            const y = 50 + 38 * Math.sin(angleRad);
            
            dealerBtn.style.left = x + '%';
            dealerBtn.style.top = y + '%';

            // ×¢×“×›×•×Ÿ ×˜×§×¡×˜ ×¡×˜×˜×•×¡
            updateStatusText();
        }

        function changePlayerCount(delta) {
            let newVal = totalPlayers + delta;
            if (newVal < 2) newVal = 2;
            if (newVal > 10) newVal = 10;
            totalPlayers = newVal;
            
            if (dealerPosition >= totalPlayers) dealerPosition = 0;
            
            document.getElementById('player-count-display').innerText = totalPlayers + " ×©×—×§× ×™×";
            renderTable();
            calculate(); // ×—×™×©×•×‘ ××—×“×© ×©×œ ××¡×˜×¨×˜×’×™×”
        }

        function nextHand() {
            // × ×™×§×•×™ ×§×œ×¤×™×
            document.querySelectorAll('.card-slot').forEach(slot => {
                slot.innerHTML = '+';
                slot.className = 'card-slot';
                slot.removeAttribute('data-value');
            });
            
            // ××™×¤×•×¡ ×§×œ×˜×™×
            document.getElementById('pot-size').value = '';
            document.getElementById('to-call').value = '';
            
            // ×”×–×–×ª ×“×™×œ×¨ (× ×’×“ ×›×™×•×•×Ÿ ×”×©×¢×•×Ÿ ××• ×¢×? ×‘×“×¨×š ×›×œ×œ ×¢× ×›×™×•×•×Ÿ ×”×©×¢×•×Ÿ, ××‘×œ ×”××¡×¤×¨×™× ×¢×•×œ×™× × ×’×“. 
            // ×× ×× ×™ 0, ×•×”×“×™×œ×¨ 1, ×”×“×™×œ×¨ ×–×– ×œ-2.
            dealerPosition = (dealerPosition + 1) % totalPlayers;
            
            updateDealerBtn();
            calculate();
        }

        // --- ×œ×•×’×™×§×ª ×”××¡×˜×¨×˜×’×™×” (The Advisor) ---
        function getMyPositionName() {
            // ×—×™×©×•×‘ ×”××¨×—×§ ×©×œ×™ ××”×“×™×œ×¨
            // 0 = Dealer (BTN)
            // 1 = SB
            // 2 = BB
            // ×©××¨ = Early/Mid
            
            // ×”× ×•×¡×—×”: ×›××” ×¦×¢×“×™× ×”×“×™×œ×¨ ×¦×¨×™×š ×œ×œ×›×ª ××—×•×¨×” ×›×“×™ ×œ×”×’×™×¢ ××œ×™×™
            // ××• ×¤×©×•×˜: ××™×¤×” ×× ×™ ×‘×™×—×¡ ×œ×“×™×œ×¨.
            // ×× ×“×™×œ×¨ ×‘-1 ×•×× ×™ ×‘-0 -> ×”×“×™×œ×¨ ××—×¨×™×™. ×× ×™ ×‘-Cutoff? ×œ×.
            
            // ×‘×•× × ×¤×©×˜: ×”××¨×—×§ ×‘×“×™×œ×•×’×™× ××”×“×™×œ×¨ (× ×’×“ ×›×™×•×•×Ÿ ×”×©×¢×•×Ÿ)
            // ×©×—×§×Ÿ ××™××™×Ÿ ×œ×“×™×œ×¨ ×”×•× SB. ××©×××œ?
            // ×‘×•× × × ×™×— ×¡×“×¨ ×™×©×™×‘×” ×¢× ×›×™×•×•×Ÿ ×”×©×¢×•×Ÿ 0, 1, 2...
            // ×× ×”×“×™×œ×¨ ×‘-X, ××– X+1 ×”×•× SB, X+2 ×”×•× BB.
            
            let distFromDealer = (heroSeatIndex - dealerPosition + totalPlayers) % totalPlayers;
            
            // dist 0 = ×× ×™ ×”×“×™×œ×¨ (BTN)
            // dist total-1 = ×× ×™ ××™××™×Ÿ ×œ×“×™×œ×¨ (SB) ? ×¨×’×¢
            
            // ×ª×™×§×•×Ÿ ×œ×•×’×™ ×¤×©×•×˜ ×œ×¤×™ ××¨×—×§ ××”×›×¤×ª×•×¨:
            // ×¢××“×” 0 (×©×œ ×”×“×™×œ×¨): BTN
            // ×¢××“×” 1 (××—×¨×™ ×”×“×™×œ×¨): SB
            // ×¢××“×” 2: BB
            // ×¢××“×” 3+: UTG...
            
            // ×”×“×™×œ×¨ ×”×•× `dealerPosition`. 
            // ×”××™×§×•× ×©×œ×™ `heroSeatIndex` (×ª××™×“ 0).
            // ×”××¨×—×§ ×”×™×—×¡×™ ×©×œ×™ ××”×“×™×œ×¨ (×›××” ××§×•××•×ª ×”×“×™×œ×¨ ×¦×¨×™×š ×œ×–×•×– ×›×“×™ ×œ×”×’×™×¢ ××œ×™×™)
            
            // ×‘×•× × ×©×ª××© ×‘×œ×•×’×™×§×” ×©×œ "×›××” ×× ×©×™× × ×©××¨×• ×œ×“×‘×¨ ××—×¨×™×™"
            // ×× ×× ×™ ×”×“×™×œ×¨, 0 × ×©××¨×• (×‘×¤×œ×•×¤). ×‘×¤×¨×” ×¤×œ×•×¤ ×”×‘×œ×™×™× ×“×™× ××“×‘×¨×™× ××—×¨×™×™.
            
            let posName = "";
            
            // × ×—×©×‘ ××™×§×•× ×™×—×¡×™ ×œ×“×™×œ×¨ ×‘×¦×•×¨×” ×¤×©×•×˜×”:
            // ×× ×× ×™ ×”×“×™×œ×¨
            if (dealerPosition === heroSeatIndex) return "BTN (Button)";
            
            // ×—×™×©×•×‘ ×”-SB (××—×“ ××—×¨×™ ×”×“×™×œ×¨)
            let sbPos = (dealerPosition + 1) % totalPlayers;
            if (heroSeatIndex === sbPos) return "SB (Small Blind)";
            
            let bbPos = (dealerPosition + 2) % totalPlayers;
            if (heroSeatIndex === bbPos) return "BB (Big Blind)";
            
            // ×× ×™×© ××¢×˜ ×©×—×§× ×™×
            if (totalPlayers <= 6) {
                // ×”××™×§×•× ×©×œ×¤× ×™ ×”×“×™×œ×¨
                let coPos = (dealerPosition - 1 + totalPlayers) % totalPlayers;
                if (heroSeatIndex === coPos) return "CO (Cutoff)";
            }
            
            return "EP/MP (××•×§×“×)";
        }

        function updateStatusText() {
            const posName = getMyPositionName();
            document.getElementById('advisor-status').innerText = `×”××™×§×•× ×©×œ×š: ${posName} | ×©×—×§× ×™×: ${totalPlayers}`;
            return posName;
        }

        // --- ×‘×—×™×¨×ª ×§×œ×¤×™× (×›××• ×§×•×“×) ---
        function initRankGrid() {
            const g = document.getElementById('ranks-grid');
            ranks.forEach(r => {
                let b = document.createElement('button');
                b.className = 'select-btn';
                b.innerText = r;
                b.onclick = () => selectRank(r);
                g.appendChild(b);
            });
        }
        
        function getTakenCards() {
            const t = [];
            document.querySelectorAll('.card-slot.filled').forEach(s => {
                if (s !== currentSlot && s.dataset.value) t.push(s.dataset.value);
            });
            return t;
        }

        function openSelector(el) {
            currentSlot = el;
            document.getElementById('card-selector').style.display = 'flex';
            document.getElementById('ranks-grid').style.display = 'grid';
            document.getElementById('suits-grid').style.display = 'none';
            document.getElementById('selector-title').innerText = "×‘×—×¨ ×¢×¨×š";
        }

        function closeSelector() {
            document.getElementById('card-selector').style.display = 'none';
            currentSlot = null;
        }

        function selectRank(r) {
            selectedRank = r;
            document.getElementById('ranks-grid').style.display = 'none';
            const sg = document.getElementById('suits-grid');
            sg.style.display = 'grid';
            document.getElementById('selector-title').innerText = "×‘×—×¨ ×¦×•×¨×” ×œ-" + r;
            
            sg.innerHTML = '';
            const taken = getTakenCards();
            ['h','d','c','s'].forEach(s => {
                const val = selectedRank + s;
                const btn = document.createElement('button');
                btn.className = 'suit-btn';
                btn.innerText = suitSymbols[s];
                btn.style.color = (s==='h'||s==='d')?'#e74c3c':'#2c3e50';
                if (taken.includes(val)) btn.disabled = true;
                else btn.onclick = () => {
                    currentSlot.innerHTML = selectedRank + suitSymbols[s];
                    currentSlot.className = `card-slot filled ${(s==='h'||s==='d')?'red':'black'}`;
                    currentSlot.dataset.value = val;
                    closeSelector();
                    calculate();
                };
                sg.appendChild(btn);
            });
        }

        // --- ×”××•×— ×”××¨×›×–×™ (×—×™×©×•×‘ + ×”××œ×¦×”) ---
        function calculate() {
            // 1. ×”××¨×ª ×›×¡×£
            const pot = parseFloat(document.getElementById('pot-size').value) || 0;
            const call = parseFloat(document.getElementById('to-call').value) || 0;
            document.getElementById('pot-money').innerText = `â‚ª${(pot/10).toLocaleString()}`;
            document.getElementById('call-money').innerText = `â‚ª${(call/10).toLocaleString()}`;

            // 2. ×‘×“×™×§×ª ×§×œ×¤×™×
            const myCards = [];
            document.querySelectorAll('#my-hand .card-slot.filled').forEach(s => myCards.push(s.dataset.value));
            
            const boardCards = [];
            document.querySelectorAll('#board .card-slot.filled').forEach(s => boardCards.push(s.dataset.value));

            const recText = document.getElementById('recommendation-text');
            const equityDisplay = document.getElementById('equity-val');
            const potOddsDisplay = document.getElementById('pot-odds-val');
            const advisorStatus = document.getElementById('advisor-status');

            // ×¢×“×›×•×Ÿ ×›×•×ª×¨×ª ××™×§×•×
            const myPosName = updateStatusText();

            // ×. ×× ××™×Ÿ ×œ×™ ×§×œ×¤×™×
            if (myCards.length < 2) {
                recText.innerText = "--";
                recText.style.color = "white";
                equityDisplay.innerText = "--%";
                potOddsDisplay.innerText = "--%";
                return;
            }

            // ×‘. ×”×× ×× ×—× ×• ×‘-Pre-Flop? (××™×Ÿ ×§×œ×¤×™ ×§×”×™×œ×”)
            if (boardCards.length === 0) {
                // ××¦×‘ ××¡×˜×¨×˜×’×™×” ×˜×”×•×¨ (Pre-Flop)
                equityDisplay.innerText = "Pre-Flop";
                potOddsDisplay.innerText = "-";
                
                const advice = getPreflopAdvice(myCards, myPosName);
                recText.innerText = advice.text;
                recText.style.color = advice.color;
                advisorStatus.innerText = `×©×œ×‘: Pre-Flop | ××™×§×•×: ${myPosName}`;
                return;
            }

            // ×’. ×× ×—× ×• ×‘-Post-Flop (×™×© ×§×œ×¤×™ ×§×”×™×œ×”)
            // ×›××Ÿ × ×›× ×¡ ×—×™×©×•×‘ ××ª××˜×™ (Equity)
            let equity = simulateEquityLogic(); // ×›××Ÿ ×ª×—×‘×¨ ×‘×¢×ª×™×“ ×¡×¤×¨×™×™×” ×××™×ª×™×ª
            let potOdds = 0;
            if (pot > 0 && call > 0) potOdds = (call / (pot + call)) * 100;

            equityDisplay.innerText = equity + "%";
            potOddsDisplay.innerText = potOdds > 0 ? potOdds.toFixed(1) + "%" : "--";
            
            advisorStatus.innerText = `×©×œ×‘: Post-Flop | ${boardCards.length} ×§×œ×¤×™ ×§×”×™×œ×”`;

            if (call === 0) {
                recText.innerText = (equity > 50) ? "VALUE BET (×”××¨)" : "CHECK (×‘×“×•×§)";
                recText.style.color = (equity > 50) ? "#2ecc71" : "#f1c40f";
            } else {
                if (equity > potOdds + 5) {
                    recText.innerText = "ğŸ”¥ RAISE / CALL";
                    recText.style.color = "#2ecc71";
                } else if (equity >= potOdds) {
                    recText.innerText = "âœ‹ CALL (×’×‘×•×œ×™)";
                    recText.style.color = "#f1c40f";
                } else {
                    recText.innerText = "ğŸ—‘ï¸ FOLD";
                    recText.style.color = "#e74c3c";
                }
            }
        }

        // --- ×œ×•×’×™×§×ª Pre-Flop ×¤×©×•×˜×” (×—×•×§×™×) ---
        function getPreflopAdvice(cards, posName) {
            // × ×™×ª×•×— ×”×™×“: ×œ××©×œ ['Ah', 'Kh']
            const r1 = cards[0][0]; // 'A'
            const r2 = cards[1][0]; // 'K'
            const s1 = cards[0][1]; // 'h'
            const s2 = cards[1][1]; // 'h'
            
            const isPair = (r1 === r2);
            const isSuited = (s1 === s2);
            
            // ×”××¨×” ×œ×¢×¨×š ××¡×¤×¨×™ ×œ×¦×•×¨×š ×”×©×•×•××” (A=14, K=13...)
            const valMap = {'A':14, 'K':13, 'Q':12, 'J':11, 'T':10, '9':9, '8':8, '7':7, '6':6, '5':5, '4':4, '3':3, '2':2};
            const v1 = valMap[r1];
            const v2 = valMap[r2];
            const high = Math.max(v1, v2);
            const low = Math.min(v1, v2);
            
            // 1. ××¤×œ×¦×•×ª (×ª××™×“ Raise)
            if (isPair && high >= 12) return {text: "ğŸš€ ALL-IN / RAISE", color: "#2ecc71"}; // QQ+
            if (high === 14 && low === 13) return {text: "ğŸ”¥ RAISE (×—×–×§)", color: "#2ecc71"}; // AK
            
            // 2. ×–×•×’×•×ª ×‘×™× ×•× ×™×™× (JJ-88)
            if (isPair && high >= 8) return {text: "âœ… RAISE", color: "#2ecc71"};

            // 3. ×ª×œ×•×™ ××™×§×•×
            const isLatePos = posName.includes("BTN") || posName.includes("CO");
            const isBlind = posName.includes("SB") || posName.includes("BB");
            
            // ×–×•×’×•×ª × ××•×›×™× (×¡×˜ ××™×™× ×™× ×’)
            if (isPair) {
                if (isLatePos) return {text: "RAISE (×œ×’× ×™×‘×”)", color: "#f1c40f"};
                return {text: "CALL (×‘×–×”×™×¨×•×ª)", color: "#f1c40f"};
            }

            // ×§×œ×¤×™× ×’×‘×•×”×™× (AQ, AJ, KQ)
            if (high >= 13 && low >= 11) { // AJ+ KQ+
                return {text: "RAISE / CALL", color: "#2ecc71"};
            }

            // ×¡×•×˜×“ ×§×•× ×§×˜×•×¨×¡ (×œ××©×œ 89 ×¡×•×˜×“)
            if (isSuited && (high - low === 1) && high > 5) {
                if (isLatePos) return {text: "RAISE (×¡×¤×§×•×œ×˜×™×‘×™)", color: "#3498db"}; // ×›×—×•×œ - ×™×¦×™×¨×ª×™
                return {text: "FOLD / CALL ×–×•×œ", color: "#bdc3c7"};
            }

            // ×›×œ ×”×©××¨ - ×–×‘×œ
            if (isLatePos) {
                 if (high >= 13) return {text: "STEAL? (×’× ×™×‘×”)", color: "#e67e22"}; // ×›×ª×•×
            }
            
            return {text: "ğŸ—‘ï¸ FOLD", color: "#e74c3c"};
        }

        // ×¡×™××•×œ×¦×™×” (×ª×—×œ×£ ×‘×¡×¤×¨×™×™×” ×××™×ª×™×ª)
        function simulateEquityLogic() {
            return Math.floor(Math.random() * 60 + 20);
        }

    </script>
</body>
</html>
